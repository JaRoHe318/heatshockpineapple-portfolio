const y=document.querySelector(".theme-toggle"),x=document.documentElement;y&&y.addEventListener("click",()=>{const n=x.getAttribute("data-theme")==="light"?"dark":"light";x.setAttribute("data-theme",n),localStorage.setItem("theme",n)});const h=document.getElementById("menu-toggle"),v=document.getElementById("site-nav");h&&v&&h.addEventListener("click",()=>{h.classList.toggle("open"),v.classList.toggle("open")});const c=document.getElementById("microscope-canvas");if(c){const t=c.getContext("2d");let n=window.innerWidth,i=window.innerHeight;class w{x;y;vx;vy;size;constructor(){this.x=Math.random()*n,this.y=Math.random()*i,this.vx=(Math.random()-.5)*.3,this.vy=(Math.random()-.5)*.3,this.size=Math.random()*2+1}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>n)&&(this.vx*=-1),(this.y<0||this.y>i)&&(this.vy*=-1)}draw(){t&&(t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle="rgba(45, 90, 69, 0.2)",t.fill())}}const s=[],f=40,r=150,d=()=>{n=window.innerWidth,i=window.innerHeight,c.width=n,c.height=i},E=()=>{d();for(let e=0;e<f;e++)s.push(new w);l()},l=()=>{t&&(t.clearRect(0,0,n,i),s.forEach((e,M)=>{e.update(),e.draw();for(let a=M+1;a<s.length;a++){const o=s[a],g=e.x-o.x,m=e.y-o.y,u=Math.sqrt(g*g+m*m);u<r&&(t.beginPath(),t.strokeStyle=`rgba(45, 90, 69, ${.1-u/r*.1})`,t.lineWidth=1,t.moveTo(e.x,e.y),t.lineTo(o.x,o.y),t.stroke())}}),requestAnimationFrame(l))};window.addEventListener("resize",d),E()}
